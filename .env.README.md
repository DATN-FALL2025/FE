# Environment Variables

This project uses environment variables for configuration. Follow the steps below to set up your environment.

## Setup

1. Copy `.env.example` to `.env`:
   ```bash
   cp .env.example .env
   ```

2. Update the values in `.env` with your configuration

## Available Variables

### `NEXT_PUBLIC_API_URL`

**Type:** `string`
**Required:** No (has default fallback)
**Default:** `https://manage-and-automate-aviation-academy.onrender.com`

The base URL for the backend API. All API requests will be made to this URL.

**Example:**
```env
NEXT_PUBLIC_API_URL=https://your-api-domain.com
```

**Local Development:**
```env
NEXT_PUBLIC_API_URL=http://localhost:8080
```

**Production:**
```env
NEXT_PUBLIC_API_URL=https://manage-and-automate-aviation-academy.onrender.com
```

## Important Notes

### ‚ö†Ô∏è Security

- **Never commit `.env` file to git** - It's already in `.gitignore`
- `.env.example` is safe to commit (no sensitive values)
- All public variables must start with `NEXT_PUBLIC_` prefix
- Server-only variables don't need the prefix

### üîí What Should Go in .env

‚úÖ **Should be in .env:**
- API URLs
- API Keys
- Database connection strings
- Secret keys
- OAuth credentials
- Third-party service credentials

‚ùå **Should NOT be in .env:**
- Public constants
- Configuration that's the same for all developers
- Non-sensitive settings

### üìù Next.js Environment Variable Types

#### 1. Public Variables (`NEXT_PUBLIC_*`)
```env
NEXT_PUBLIC_API_URL=https://api.example.com
```
- Available in browser
- Can be used in client components
- Exposed to the client (not secret!)

#### 2. Server-Only Variables
```env
DATABASE_URL=postgresql://...
API_SECRET_KEY=secret123
```
- Only available on server
- Cannot be accessed in client components
- Keep sensitive data here

## Usage in Code

### Using Environment Variables

```typescript
// In any file
import { API_BASE_URL } from '@/lib/config/api-paths';

// API_BASE_URL will use NEXT_PUBLIC_API_URL from .env
const response = await fetch(`${API_BASE_URL}/api/endpoint`);
```

### Checking Environment

```typescript
// Check if running in development
if (process.env.NODE_ENV === 'development') {
  console.log('Development mode');
}

// Check if running in production
if (process.env.NODE_ENV === 'production') {
  console.log('Production mode');
}
```

## Environment-Specific Configuration

### Development (.env.local)
```env
NEXT_PUBLIC_API_URL=http://localhost:8080
```

### Production (.env.production)
```env
NEXT_PUBLIC_API_URL=https://manage-and-automate-aviation-academy.onrender.com
```

## Troubleshooting

### Variables Not Loading

1. **Restart dev server** - Environment variables are loaded at build time
   ```bash
   # Stop the server (Ctrl+C)
   # Start it again
   npm run dev
   ```

2. **Check variable name** - Must start with `NEXT_PUBLIC_` for client-side use

3. **Check .env location** - Must be in project root (same level as package.json)

### Common Issues

**Issue:** Variable is `undefined` in browser
```typescript
console.log(process.env.API_URL); // undefined ‚ùå
```

**Solution:** Add `NEXT_PUBLIC_` prefix
```typescript
console.log(process.env.NEXT_PUBLIC_API_URL); // works ‚úÖ
```

**Issue:** Changes to .env not reflecting

**Solution:** Restart the development server

## Best Practices

1. ‚úÖ **Always use `.env.example`** for documenting required variables
2. ‚úÖ **Never commit `.env`** to version control
3. ‚úÖ **Use different .env files** for different environments
4. ‚úÖ **Document all variables** in this README
5. ‚úÖ **Use descriptive variable names**
6. ‚ùå **Never hardcode sensitive values** in code
7. ‚ùå **Never put secrets in `NEXT_PUBLIC_*` variables**

## Adding New Variables

When adding a new environment variable:

1. Add it to `.env.example` with a placeholder value
2. Add it to your local `.env` with the actual value
3. Document it in this README
4. Update `api-paths.ts` or relevant config file
5. Inform the team about the new variable

**Example:**

```env
# .env.example
NEXT_PUBLIC_NEW_API_URL=https://example.com

# .env (your local file)
NEXT_PUBLIC_NEW_API_URL=https://actual-api.com
```

## Deployment

When deploying to production:

1. Set environment variables in your hosting platform:
   - **Vercel**: Project Settings ‚Üí Environment Variables
   - **Netlify**: Site Settings ‚Üí Build & Deploy ‚Üí Environment
   - **Railway**: Project ‚Üí Variables
   - **Render**: Environment ‚Üí Environment Variables

2. Ensure all required variables are set

3. Test the deployment

## Resources

- [Next.js Environment Variables](https://nextjs.org/docs/basic-features/environment-variables)
- [Vercel Environment Variables](https://vercel.com/docs/concepts/projects/environment-variables)
